# ===================================================================
# SERVER CONFIGURATION
# ===================================================================
server.port=8082

# ===================================================================
# SPRING SECURITY OAUTH2 CLIENT CONFIGURATION
# ===================================================================
# --- Provider Details ---
spring.security.oauth2.client.provider.keycloak-provider.issuer-uri=http://keycloak.local/realms/observability-lab

# --- Client Registration Details ---
# This value also forms the base for the full registration properties below.
oauth2.client.registration.id=lab-client
spring.security.oauth2.client.registration.lab-client.provider=keycloak-provider
# This must match the 'Client ID' we created in Keycloak ('web-app-client').
spring.security.oauth2.client.registration.lab-client.client-id=web-app-client
spring.security.oauth2.client.registration.lab-client.client-secret=${WEB_CLIENT_SECRET}
spring.security.oauth2.client.registration.lab-client.authorization-grant-type=authorization_code
# This must match one of the 'Valid Redirect URIs' configured in Keycloak.
# The {baseUrl}/{action}/oauth2/code/{registrationId} pattern is a Spring Security default.
spring.security.oauth2.client.registration.lab-client.redirect-uri={baseUrl}/login/oauth2/code/{registrationId}
# The scopes we request from Keycloak. 'openid' and 'profile' are standard for OIDC.
spring.security.oauth2.client.registration.lab-client.scope=openid,profile

# ===================================================================
# RESOURCE SERVER LOCATION
# ===================================================================
resource-server.url=http://resource-server:8081